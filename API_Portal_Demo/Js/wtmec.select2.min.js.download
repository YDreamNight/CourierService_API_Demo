/**
 * wt select2
 * @version v1.1.7
 */
var wtmecSelect2=function(){function e(e,r){var t=$.ajax({type:"GET",url:r.url(e),async:!1}).responseText;return $.map(JSON.parse(t),r.result)}function r(e,r){var t=$.ajax({type:"GET",url:r.url(e),async:!1}).responseText;return $.map(JSON.parse(t).items,r.result)}function t(e,r){var t="/CommonService/rest/userApi/findUnitUser?1=1",n="/CommonService/rest/userApi/findUnitUserByBusinessGroup?1=1",o="/CommonService/rest/userApi/findUnitUserBySubBusinessGroup?1=1",u=e.type.unitId,s=e.type.businessGroup,d=e.type.subBusinessGroup,m=void 0!=e.type.isOrgUser,y=void 0!=e.type.isOrgStaff,f=void 0==e.type.isBusinessUnit||e.type.isBusinessUnit,g=void 0!=e.type.isNonBusinessUnit&&e.type.isNonBusinessUnit,h=void 0==e.type.jobFunctionCode?"":e.type.jobFunctionCode,v=O[e.env];window.WT_HOST_COMMON_SERVICE&&(v=window.WT_HOST_COMMON_SERVICE[e.env]),e.wtmecSelect2CustomUrl&&(v=e.wtmecSelect2CustomUrl),s&&d?(v+=o,v+="&businessGroup="+s,v+=Array.isArray(d)?"&"+d.map(function(e){return"subBusinessGroup="+e}).join("&"):"&subBusinessGroup="+d):s?(v+=n,v+=Array.isArray(s)?"&"+s.map(function(e){return"businessGroup="+e}).join("&"):"&businessGroup="+s):u?(v+=t,v+=Array.isArray(u)?"&"+u.map(function(e){return"unitId="+e}).join("&"):"&unitId="+u):v+=n,v+="&isOrgUser="+m,v+="&isOrgStaff="+y,v+="&isBusinessUnit="+f,v+="&isNonBusinessUnit="+g,v+="&jobFunctionCode="+h;var T=$.fn.select2.amd;void 0==T&&(T=select2Version4Amd);var C={resultsAdapter:T.require("CustomResultsAdapterAjaxData")};$.ajax({url:v,success:function(t){var n,o=[];Object.keys(t).map(function(e){var r=t[e];1==r.level&&(n=r.text),o.push({id:r.id,text:r.text,level:r.level-1,search:"",textSource:r.text,level1text:n,isEmployee:!!r.jobFunctionCode})}),e.removeFirstLevel&&(o=S(o)),e.multiple||o.unshift({id:"",text:""}),o=a(o),e.replaceSameStart&&(o=c(o,e.replaceSameStartAppendStr)),e.replaceStartWithLevel1&&(o=p(o,e.replaceStartWithLevel1AppendStr)),e.searchHierarchy&&(e.matcher=l,o=i(o)),C.data=o,r($.extend({},e,C))}})}function n(e,r){var t=[{id:"Core",text:"Core",level:"1",notBlank:!0},{id:"Titan",text:"Titan",level:"1",notBlank:!0},{id:"NY",text:"NY",level:"2",notBlank:!0},{id:"Reptor",text:"Reptor",level:"3",notBlank:!0},{id:"Skyworks",text:"Skyworks",level:"3",notBlank:!0},{id:"Others",text:"Others",level:"3",notBlank:!0},{id:"Galaxy",text:"Galaxy",level:"2",notBlank:!0},{id:"T-Rex",text:"T-Rex",level:"2",notBlank:!0},{id:"Inphi",text:"Inphi",level:"2",notBlank:!0},{id:"TI",text:"TI",level:"1",notBlank:!0},{id:"Core",text:"Core",level:"2",notBlank:!0},{id:"NY",text:"NY",level:"2",notBlank:!0}],n=$.fn.select2.amd;void 0==n&&(n=select2Version4Amd);var o,a={resultsAdapter:n.require("CustomResultsAdapterAjaxData")},i=[];Object.keys(t).map(function(e,r){var n=t[e];i.push({id:n.id,text:n.text,level:n.level-1,search:"",textSource:n.text,level1text:o})}),i.unshift({id:"",text:""}),i=wtmecSelect2.createSequenceHierarchyWt(i),i=wtmecSelect2.generatorSearchContentWrapper(i),a.data=i,r($.extend({},e,a))}function o(e,r){var t="/mdm/rest/public/material/findProductHierarchyByProdhOrderByProdh?1=1",n=e.type.ph,o=w[e.env]+t;window.WT_HOST_MDM&&(o=window.WT_HOST_MDM[e.env]+t),e.wtmecSelect2CustomUrl&&(o=e.wtmecSelect2CustomUrl+t),n&&(o+=Array.isArray(n)?"&"+n.map(function(e){return"prodh="+e}).join("&"):"&prodh="+n);var u=e.type.expandAll;o+=u?"&category=ALL":"&category=BRAND";var s=$.fn.select2.amd;void 0==s&&(s=select2Version4Amd);var d={resultsAdapter:s.require("CustomResultsAdapterAjaxData")};return $.ajax({url:o,success:function(t){var n,o=[];if(Object.keys(t).map(function(e){var r=t[e];0==r.level&&(n=r.desc),o.push({id:r.prodh,text:r.desc,level:r.level,search:"",textSource:r.desc,level1text:n})}),e.removeFirstLevel&&(o=S(o)),e.multiple||o.unshift({id:"",text:""}),o=a(o),e.replaceSameStart&&(o=c(o,e.replaceSameStartAppendStr)),e.replaceStartWithLevel1&&(o=p(o,e.replaceStartWithLevel1AppendStr)),e.searchHierarchy)e.matcher=l,o=i(o);else if(!u){for(var s=0;s<o.length;s++){var m=o[s];if(m.search=o[s].textSource,1==m.level){var y=o.filter(function(e){return e.textSource==m.text});y.length>1&&(m.search="")}}e.matcher=function(e,r){if(""===$.trim(e.term))return r;if("undefined"==typeof r.text)return null;if(""==r.text)return null;if(0===r.search.toLowerCase().lastIndexOf(e.term.toLowerCase(),0)){var t=$.extend({},r,!0);return t}return null}}d.data=o,r($.extend({},e,d))}}),!1}function a(e){var r,t,n,o=[],a=0,i=0;for(var u in e){var l=e[u],c=0;if(l.id){u-=c;var s,d;if(0==u&&(i=l.level),l.level==i)0==o.length?(s=""+l.level,d="-1",o[a]=l.level):(a=i,s=""+(parseInt(o[a])+1),d="-1",o[a]=s);else if(l.level>r&&(a++,s=t+"-"+a,s="-1"==t?a:t+"-"+a,d=t,o[a]=s),l.level==r&&(s=t,d=n),l.level<r){var m=a-l.level==0?1:a-l.level;a-=m,s=o[a-1]+"-"+u,d=o[a-1],o[a]=s}r=l.level,t=s,n=d,0!=u&&e[u-1].level!=e[u].level&&e[u].level>e[u-1].level&&(e[u-1].hasChild=!0),e[u].k=s,e[u].p=d,e[u].currLevel=a}else c=1}return e}function i(e){for(var r=e.length-1;r>=0;r--)u(e,r);return e}function u(e,r){var t=e[r];if(void 0!=t&&0!=r){if(t.p==-1)return e[r].search=e[r].text;for(var n in e)if(e[n].k==t.p)return e[r].search=u(e,n)+"%"+e[r].text,e[r].search}}function l(e,r){if(""===$.trim(e.term))return r;if("undefined"==typeof r.text)return null;if(""==r.text)return null;if(0===r.search.toLowerCase().lastIndexOf(e.term.toLowerCase(),0)){var t=$.extend({},r,!0);return t}return null}function c(e,r){for(var t=e.length-1;t>=0;t--)s(e,t,r);return e}function s(e,r,t){var n=t||"",o=e[r];if(void 0!=o&&0!=r&&o.p!=-1)for(var a in e)if(e[a].k==o.p){var i=/[()]+/g;o.textSource=o.textSource.replace(i,""),e[a].textSource=e[a].textSource.replace(i,"");var u="^"+e[a].textSource+n,l=new RegExp(u,"g");return o.text=o.textSource.replace(l,""),s(e,a,t)}}function d(e,r){var t=e;for(var n in t){var o="^"+r,a=new RegExp(o,"g");t[n].text=t[n].text.replace(a,"")}return t}function m(e,r){var t=e;for(var n in t)if(void 0!=t[n]&&0==t[n].level)for(var o in t)if(void 0!=t[o]&&t[o].level>0){var a="^"+t[n].text+r,i=new RegExp(a,"g");t[o].text=t[o].text.replace(i,"")}return t}function p(e,r){for(var t=e.length-1;t>=0;t--)y(e,t,r);return e}function y(e,r,t){var n=t||"",o=e[r];if(void 0!=o&&""!=o.id){if(0==o.level){var a="^"+o.level1text+n,i=new RegExp(a,"g");return o.text=o.textSource.replace(i,""),o.level1text+n}for(var u in e)if(e[u].k==o.p){var l=y(e,u,n),a="^"+l,i=new RegExp(a,"g");return o.text=o.textSource.replace(i,""),l}}}function f(e){var r=e.toUpperCase();if(r.indexOf("*")!=-1)return{id:r,text:r,isNew:!0}}function g(e){return e.isNew?e.text+'<span class="label label-info" style="margin-left: 1em;">Wildcard</span>':e.text}function h(e,r){if(void 0!=e)if(Array.isArray(e))e.forEach(function(e){if(e.length<=0)throw r});else if(e.length<=0)throw r}function S(e){return e.filter(function(e){return e.level=e.level-1,e.level>=0})}var v,T=(localStorage.getItem("ph")?JSON.parse(localStorage.getItem("ph")):{ph:[]},250),C={env:"",delay:T,type:{category:"",subCategory:""},multiple:!1,wildcardTags:!1,pageSize:30,displayDescId:!0,displayDescCode:!1,defaultOptionValue:{userId:"-1",displayName:"HR"}},O={local:"https://wtu-common1-dev.wtmec.com:8080",dev:"https://wtu-common1-dev.wtmec.com:8080",uat:"https://common-uat.wtmec.com",prod:"https://common-prod.wtmec.com"},w={local:"https://wtu-common1-dev.wtmec.com:8080",dev:"https://wtu-common1-dev.wtmec.com:8080",uat:"https://mdm-uat.wtmec.com",prod:"https://mdm-prod.wtmec.com"},b=function(e,r,t,n){return{subCategory:n.subCategory,searchTerm:e.trim(),pageNum:r||1,pageSize:t}},P={placeholder:"Search...",param:b,result:function(){return{text:"displayName",id:"value"}}},x={MATERIAL:{enableWildcardTags:!0,paging:!0,commonUrl:function(e){return window.WT_HOST_MDM?window.WT_HOST_MDM[e]+"/mdm/rest/public/material/findMaterialsLikeForPage":w[e]+"/mdm/rest/public/material/findMaterialsLikeForPage"},commonParam:function(e,r,t,n){var o=b(e,r,t,n);return n.hasOwnProperty("ph1")&&(o.ph1=n.ph1),o},subCategory:{WT_PN:function(){var e={placeholder:"Search by WT PN",url:x.MATERIAL.commonUrl,param:x.MATERIAL.commonParam,result:function(e){return{text:e.wtPn,id:e.wtPn}}};return $.extend({},P,e)},PO_PN:function(){var e={placeholder:"Search by PO PN",url:x.MATERIAL.commonUrl,param:x.MATERIAL.commonParam,result:function(e){return{text:e.poPn,id:e.poPn}}};return $.extend({},P,e)},VENDOR_PN:function(){var e={placeholder:"Search by Vendor PN",url:x.MATERIAL.commonUrl,param:x.MATERIAL.commonParam,result:function(e){return{text:e.vendorPn,id:e.vendorPn}}};return $.extend({},P,e)},VPN:function(){var e={placeholder:"Search by Vendor VPN",url:x.MATERIAL.commonUrl,param:x.MATERIAL.commonParam,result:function(e){return{text:e.vendorPn,id:e.vendorPn}}};return $.extend({},P,e)},WT_PN_KITS_HEAD:function(){var e={placeholder:"Search by WT PN Kits Head",url:x.MATERIAL.commonUrl,param:x.MATERIAL.commonParam,result:function(e){return{text:e.wtPn,id:e.wtPn}}};return $.extend({},P,e)},WT_PN_KITS_COMPONENT:function(){var e={placeholder:"Search by WT PN Kits Component",url:x.MATERIAL.commonUrl,param:x.MATERIAL.commonParam,result:function(e){return{text:e.wtPn,id:e.wtPn}}};return $.extend({},P,e)},VENDOR_PN_KITS_HEAD:function(){var e={placeholder:"Search by Vendor PN Kits Head",url:x.MATERIAL.commonUrl,param:x.MATERIAL.commonParam,result:function(e){return{text:e.vendorPn,id:e.vendorPn}}};return $.extend({},P,e)},BOOKING_PN:function(){var e={placeholder:"Search by Booking PN",url:x.MATERIAL.commonUrl,param:x.MATERIAL.commonParam,result:function(e){return{text:e.bookingPn,id:e.bookingPn}}};return $.extend({},P,e)}}},PH:{subCategory:{GROUP:function(){return{}}}},ORG:{subCategory:{GROUP:function(){return{}}}},BIZTYPE:{subCategory:{GROUP:function(){return{}}}},CUSTOMER:{paging:!0,commonUrl:function(e){return window.WT_HOST_MDM?window.WT_HOST_MDM[e]+"/mdm/rest/public/customer/findCustomerInfoLightByPage":w[e]+"/mdm/rest/public/customer/findCustomerInfoLightByPage"},commonResult:function(e){var r=R(e.englishShortName),t=R(e.chineseShortName),n=r==t?r:r+" "+t;return{text:n+" ("+e.customerCode+")",id:e.customerCode}},subCategory:{GENERAL:function(){var e={placeholder:"Search by Customer",url:x.CUSTOMER.commonUrl,result:x.CUSTOMER.commonResult};return $.extend({},P,e)},INCLUDE_FILTER:function(){var e={placeholder:"Search by Customer",url:x.CUSTOMER.commonUrl,param:function(e,r,t,n){var o=b(e,r,t,n);return o.includeFilter=n.includeFilter,o},result:x.CUSTOMER.commonResult,validate:function(e){if(!e.hasOwnProperty("includeFilter"))throw"includeFilter is required";if("[object Array]"!==Object.prototype.toString.call(e.includeFilter)||0==e.includeFilter.length)throw"includeFilter must be a array and not a empty array"}};return $.extend({},P,e)},PARTNER_TYPE:function(){var e={placeholder:"Search by Partner Type",url:x.CUSTOMER.commonUrl,param:function(e,r,t,n){var o=b(e,r,t,n);return o.partnerType=n.partnerType,o},result:x.CUSTOMER.commonResult};return $.extend({},P,e)}}},VENDOR:{paging:!0,commonUrl:function(e){return window.WT_HOST_MDM?window.WT_HOST_MDM[e]+"/mdm/rest/public/vendor/findVendorGeneralLightPage":w[e]+"/mdm/rest/public/vendor/findVendorGeneralLightPage"},commonParam:function(e,r,t,n){var o=b(e,r,t,n);return n.hasOwnProperty("ph1")&&(o.ph1=n.ph1),o},commonResult:function(e){return{text:e.vendorCode+" ("+e.searchTerm+")",id:e.vendorCode}},subCategory:{GENERAL:function(){var e={placeholder:"Search by Vendor",url:x.VENDOR.commonUrl,result:x.VENDOR.commonResult};return $.extend({},P,e)},MRO:function(){return this.GENERAL()},PRODUCT:function(){return this.GENERAL()},WT_EC:function(){var e={placeholder:"Search by WT EC Code",url:function(e){return window.WT_HOST_MDM?window.WT_HOST_MDM[e]+"/mdm/rest/public/vendor/findWtEcInfoLightPageByActiveTrueAndWtEcCodeIgnoreCaseOrWtEcNameLikeIgnoreCase":w[e]+"/mdm/rest/public/vendor/findWtEcInfoLightPageByActiveTrueAndWtEcCodeIgnoreCaseOrWtEcNameLikeIgnoreCase"},result:function(e){return{text:e.wtEcName+" ("+e.wtEcCode+")",id:e.wtEcCode}}};return $.extend({},P,e)},VENDOR_EC:function(){var e={placeholder:"Search by VENDOR EC Code",url:function(e){return window.WT_HOST_MDM?window.WT_HOST_MDM[e]+"/mdm/rest/public/vendor/findVendorEcInfoLightPageByActiveTrueAndVendorEcCodeIgnoreCaseOrVendorEcNameLikeIgnoreCase":w[e]+"/mdm/rest/public/vendor/findVendorEcInfoLightPageByActiveTrueAndVendorEcCodeIgnoreCaseOrVendorEcNameLikeIgnoreCase"},param:x.VENDOR.commonParam,result:function(e){return{text:e.vendorEcName+" ("+e.vendorEcCode+")",id:e.vendorEcCode}}};return $.extend({},P,e)}}},USER:{paging:!0,subCategory:{NORMAL:function(){var e={placeholder:"Search by User ID or User Name",url:function(e){return window.WT_HOST_COMMON_SERVICE?window.WT_HOST_COMMON_SERVICE[e]+"/CommonService/rest/userApi/searchUserIdDto":O[e]+"/CommonService/rest/userApi/searchUserIdDto"},result:function(e){return{text:e.displayName,id:e.userId}}};return $.extend({},P,e)}}},BRAND:{paging:!0,commonUrl:function(e){return window.WT_HOST_MDM?window.WT_HOST_MDM[e]+"/mdm/rest/public/material/findBrandLikeForPage":w[e]+"/mdm/rest/public/material/findBrandLikeForPage"},commonResult:function(e){return{text:e.desc,id:e.prodh}},commonResultByCode:function(e){return{text:e.desc+" ("+e.prodh+")",id:e.prodh}},subCategory:{OPTIONS:{},INIT:function(e){this.OPTIONS=e},GENERAL:function(){var e={placeholder:"Search by Brand",url:x.BRAND.commonUrl,result:this.OPTIONS.displayDescCode?x.BRAND.commonResultByCode:x.BRAND.commonResult};return $.extend({},P,e)},BRAND_COMBINE:function(){var e={placeholder:"Search by Brand",url:x.BRAND.commonUrl,result:this.OPTIONS.displayDescCode?x.BRAND.commonResultByCode:x.BRAND.commonResult};return $.extend({},P,e)},PURCHASE:function(){var e={placeholder:"Search by Brand",url:x.BRAND.commonUrl,result:function(e){return{text:e.desc,id:e.prodh}}};return $.extend({},P,e)}}},CUSTOMER_GROUP:{paging:!0,commonUrl:function(e){return window.WT_HOST_MDM?window.WT_HOST_MDM[e]+"/mdm/rest/public/customer/findGroupCustomerLightByPage":w[e]+"/mdm/rest/public/customer/findGroupCustomerLightByPage"},subCategory:{GENERAL:function(){var e={placeholder:"Search by Customer Group",url:x.CUSTOMER_GROUP.commonUrl,result:function(e){return{text:e.groupName+" ("+e.groupCode+")",id:e.groupCode}}};return $.extend({},P,e)}}},SLOC:{paging:!0,subCategory:{GENERAL:function(){var e={placeholder:"Search by Storage Location",url:function(e){return window.WT_HOST_MDM?window.WT_HOST_MDM[e]+"/mdm/rest/public/enterprise/findStorageLocationByPage":w[e]+"/mdm/rest/public/enterprise/findStorageLocationByPage"},result:function(e){return{text:e.id+" ("+e.description+")",id:e.id}}};return $.extend({},P,e)},SALES:function(){var e={placeholder:"Search by Storage Location",url:function(e){return window.WT_HOST_MDM?window.WT_HOST_MDM[e]+"/mdm/rest/public/enterprise/findStorageLocationByPage":w[e]+"/mdm/rest/public/enterprise/findStorageLocationByPage"},result:function(e){return{text:e.id+" ("+e.description+")",id:e.id}}};return $.extend({},P,e)},SHARED:function(){var e={placeholder:"Search by Storage Location",url:function(e){return window.WT_HOST_MDM?window.WT_HOST_MDM[e]+"/mdm/rest/public/enterprise/findStorageLocationByPage":w[e]+"/mdm/rest/public/enterprise/findStorageLocationByPage"},result:function(e){return{text:e.id+" ("+e.description+")",id:e.id}}};return $.extend({},P,e)}}},DIVISION:{paging:!1,subCategory:{GENERAL:function(){return{placeholder:"Search by Division",url:function(e){return window.WT_HOST_MDM?window.WT_HOST_MDM[e]+"/mdm/rest/public/enterprise/findAllDivision":w[e]+"/mdm/rest/public/enterprise/findAllDivision"},result:function(e){return{text:e.divisionCode+" ("+e.divisionDesc+")",id:e.divisionCode}}}}}},COUNTRY:{paging:!1,subCategory:{GENERAL:function(){return{placeholder:"Search by Country",url:function(e){return window.WT_HOST_MDM?window.WT_HOST_MDM[e]+"/mdm/rest/public/enterprise/findAllCountryInfo":w[e]+"/mdm/rest/public/enterprise/findAllCountryInfo"},result:function(e){return{text:e.countryCode+" ("+e.countryFullName+")",id:e.countryCode}}}}}},COMPANY:{paging:!1,subCategory:{GENERAL:function(){return{placeholder:"Search by Company",url:function(e){return window.WT_HOST_MDM?window.WT_HOST_MDM[e]+"/mdm/rest/public/enterprise/findAllCompaniesLight":w[e]+"/mdm/rest/public/enterprise/findAllCompaniesLight"},result:function(e){return{text:e.code+" ("+e.name+")",id:e.code}}}}}},SALES_ORG:{paging:!1,commonUrl:function(e){return window.WT_HOST_MDM?window.WT_HOST_MDM[e]+"/mdm/rest/public/enterprise/findAllSalesOrgByCategory":w[e]+"/mdm/rest/public/enterprise/findAllSalesOrgByCategory"},commonResult:function(e){return{text:e.salesOrgCode+" ("+e.salesOrgDesc+")",id:e.salesOrgCode}},subCategory:{GENERAL:function(){var e={placeholder:"Search by Sales Org",url:x.SALES_ORG.commonUrl,result:x.SALES_ORG.commonResult};return $.extend({},P,e)},RESELL:function(){return{placeholder:"Search by Sales Org",url:function(e){return window.WT_HOST_MDM?window.WT_HOST_MDM[e]+"/mdm/rest/public/enterprise/findAllSalesOrgByCategory?subCategory=RESELL":w[e]+"/mdm/rest/public/enterprise/findAllSalesOrgByCategory?subCategory=RESELL"},result:function(e){return{text:e.salesOrgCode+" ("+e.salesOrgDesc+")",id:e.salesOrgCode}}}}}},WAREHOUSE:{enableWildcardTags:!0,paging:!1,commonResult:function(e){return{text:e.description+" ("+e.id+")",id:e.id}},commonResultNoDesc:function(e){return{text:e.id,id:e.id}},subCategory:{OPTIONS:{},INIT:function(e){this.OPTIONS=e},GENERAL:function(e){return{placeholder:"Search by Warehouse",url:function(e){return window.WT_HOST_MDM?window.WT_HOST_MDM[e]+"/mdm/rest/public/enterprise/findWarehouseByPage?subCategory=GENERAL&searchTerm=&pageNum=1&pageSize=30":w[e]+"/mdm/rest/public/enterprise/findWarehouseByPage?subCategory=GENERAL&searchTerm=&pageNum=1&pageSize=30"},result:this.OPTIONS.displayDescId?x.WAREHOUSE.commonResult:x.WAREHOUSE.commonResultNoDesc}},PDC:function(){return{placeholder:"Search by Warehouse",url:function(e){return window.WT_HOST_MDM?window.WT_HOST_MDM[e]+"/mdm/rest/public/enterprise/findWarehouseByPage?subCategory=PDC&searchTerm=&pageNum=1&pageSize=30":w[e]+"/mdm/rest/public/enterprise/findWarehouseByPage?subCategory=PDC&searchTerm=&pageNum=1&pageSize=30"},result:this.OPTIONS.displayDescId?x.WAREHOUSE.commonResult:x.WAREHOUSE.commonResultNoDesc}},ALL:function(){return{placeholder:"Search by Warehouse",url:function(e){return window.WT_HOST_MDM?window.WT_HOST_MDM[e]+"/mdm/rest/public/enterprise/findWarehouseByPage?subCategory=ALL&searchTerm=&pageNum=1&pageSize=30":w[e]+"/mdm/rest/public/enterprise/findWarehouseByPage?subCategory=ALL&searchTerm=&pageNum=1&pageSize=30"},result:this.OPTIONS.displayDescId?x.WAREHOUSE.commonResult:x.WAREHOUSE.commonResultNoDesc}}}},PLANT:{enableWildcardTags:!0,paging:!1,commonUrl:function(e){return window.WT_HOST_MDM?window.WT_HOST_MDM[e]+"/mdm/rest/public/enterprise/findPlantByPage":w[e]+"/mdm/rest/public/enterprise/findPlantByPage"},commonResult:function(e){return{text:e.id+" ("+e.englishName+")",id:e.id}},commonResultNoDesc:function(e){return{text:e.id,id:e.id}},commonParam:function(e,r,t,n){var o=b(e,r,t,n);return n.hasOwnProperty("ph1")&&(o.ph1=n.ph1),o},subCategory:{OPTIONS:{},INIT:function(e){this.OPTIONS=e},GENERAL:function(){var e={placeholder:"Search by Plant",url:function(e){return window.WT_HOST_MDM?window.WT_HOST_MDM[e]+"/mdm/rest/public/enterprise/findPlantByPage?subCategory=GENERAL&searchTerm=&pageNum=1&pageSize=300":w[e]+"/mdm/rest/public/enterprise/findPlantByPage?subCategory=GENERAL&searchTerm=&pageNum=1&pageSize=300"},result:this.OPTIONS.displayDescId?x.PLANT.commonResult:x.PLANT.commonResultNoDesc};return $.extend({},P,e)},PDC:function(){var e={placeholder:"Search by Plant",url:function(e){return window.WT_HOST_MDM?window.WT_HOST_MDM[e]+"/mdm/rest/public/enterprise/findPlantByPage?subCategory=PDC&searchTerm=&pageNum=1&pageSize=300":w[e]+"/mdm/rest/public/enterprise/findPlantByPage?subCategory=PDC&searchTerm=&pageNum=1&pageSize=300"},result:this.OPTIONS.displayDescId?x.PLANT.commonResult:x.PLANT.commonResultNoDesc};return $.extend({},P,e)},ALL:function(){var e={placeholder:"Search by Plant",url:function(e){return window.WT_HOST_MDM?window.WT_HOST_MDM[e]+"/mdm/rest/public/enterprise/findPlantByPage?subCategory=ALL&searchTerm=&pageNum=1&pageSize=300":w[e]+"/mdm/rest/public/enterprise/findPlantByPage?subCategory=ALL&searchTerm=&pageNum=1&pageSize=300"},result:this.OPTIONS.displayDescId?x.PLANT.commonResult:x.PLANT.commonResultNoDesc};return $.extend({},P,e)}}},ACCOUNT_GROUP:{enableWildcardTags:!0,paging:!0,commonUrl:function(e){return window.WT_HOST_MDM?window.WT_HOST_MDM[e]+"/mdm/rest/public/vendor/findAccountGroupByPage":w[e]+"/mdm/rest/public/vendor/findAccountGroupByPage"},commonParam:function(e,r,t,n){var o=b(e,r,t,n);return n.hasOwnProperty("ph1")&&(o.ph1=n.ph1),o},subCategory:{PRODUCT:function(){var e={placeholder:"Search by Description",url:x.ACCOUNT_GROUP.commonUrl,param:x.ACCOUNT_GROUP.commonParam,result:function(e){return{text:e.code+" ("+e.description+")",id:e.code}}};return $.extend({},P,e)},MRO:function(){var e={placeholder:"Search by Description",url:x.ACCOUNT_GROUP.commonUrl,param:x.ACCOUNT_GROUP.commonParam,result:function(e){return{text:e.code+" ("+e.description+")",id:e.code}}};return $.extend({},P,e)},ALL:function(){var e={placeholder:"Search by Description",url:x.ACCOUNT_GROUP.commonUrl,param:x.ACCOUNT_GROUP.commonParam,result:function(e){return{text:e.code+" ("+e.description+")",id:e.code}}};return $.extend({},P,e)}}},BU:{enableWildcardTags:!0,paging:!0,commonUrl:function(e){return window.WT_HOST_MDM?window.WT_HOST_MDM[e]+"/mdm/rest/public/enterprise/findBuByPage":w[e]+"/mdm/rest/public/enterprise/findBuByPage"},commonParam:function(e,r,t,n){var o=b(e,r,t,n);return o},subCategory:{ALL:function(){var e={placeholder:"Search by Name",url:x.BU.commonUrl,param:x.BU.commonParam,result:function(e){return{text:e.buName+" ("+e.buCode+")",id:e.buCode}}};return $.extend({},P,e)}}}},A=function(){if("undefined"==typeof jQuery)throw"jQuery is undefined";if("undefined"==typeof jQuery.fn.select2)throw"Select2 is undefined"},R=function(e){return null==e?"":e},N=function(e){return e%1===0},E=function(e){if(void 0===e)return!1;if("number"!=typeof e)throw"pageSize must be a number";if("number"!=typeof e||N(e)){if(e<10)throw"pageSize must greater than 10";return!0}throw"pageSize must be a integer"},M=function(e,r){if(void 0===e)return!1;if(e===!0||e===!1)return!0;throw r+" must be a boolean"},_=function(e){if(void 0===e||void 0===e.env||"object"!=typeof e.type||!e.type.hasOwnProperty("category")||!e.type.hasOwnProperty("subCategory"))throw"env and type is required";if(!O.hasOwnProperty(e.env)&&!w.hasOwnProperty(e.env))throw'env: "'+e.env+'" is not valid';if(!x.hasOwnProperty(e.type.category))throw'type.category: "'+e.type.category+'" is not valid';if(!x[e.type.category].subCategory.hasOwnProperty(e.type.subCategory))throw'type.subCategory: "'+e.type.subCategory+'" is not valid';var r=x[e.type.category],t=r.subCategory[e.type.subCategory]();if(e.hasOwnProperty("wildcardTags")&&!r.hasOwnProperty("enableWildcardTags"))throw'wildcardTags is not available in "'+e.type.category+'" category';t.hasOwnProperty("validate")&&t.validate(e.type)},D=function(e){return _(e),e.multiple=M(e.multiple,"multiple")?e.multiple:C.multiple,e.wildcardTags=M(e.wildcardTags,"wildcardTags")?e.wildcardTags:C.wildcardTags,e.pageSize=E(e.pageSize)?e.pageSize:C.pageSize,e.displayDescId=M(e.displayDescId,"displayDescId")?e.displayDescId:C.displayDescId,e.displayDescCode=M(e.displayDescCode,"displayDescCode")?e.displayDescCode:C.displayDescCode,$.extend({},C,e)},L=function(e){return A(),D(e)},U=function(e){var r=x[e.type.category].subCategory[e.type.subCategory](),t=r.url(e.env);return e.customizedUrl&&(t=e.customizedUrl),{url:t,dataType:"json",quietMillis:e.delay,data:function(t,n){return r.param(t,n,e.pageSize,e.type)},results:function(e,t){var n=t*e.pageSize<e.totalCount;return{results:$.map(e.items,r.result),more:n}}}},I=function(r){var t=L(r),n=x[t.type.category],o=n.subCategory[t.type.subCategory]();"undefined"!=typeof n.subCategory.INIT&&n.subCategory.INIT(t);var a={placeholder:o.placeholder,allowClear:!t.multiple,multiple:t.multiple};return t.placeholder&&(a.placeholder=t.placeholder),t.wildcardTags&&(a.escapeMarkup=function(e){return e},a.createSearchChoice=f,a.formatResult=g),n.paging?$.extend({},a,{minimumInputLength:1,ajax:U(t)}):$.extend({},a,{data:e(t.env,o)})},W=function(e){e.type.customizedResult&&(x[e.type.category].commonResult=e.type.customizedResult);var r=x[e.type.category].subCategory[e.type.subCategory](),t=r.url(e.env);e.customizedUrl&&(t=e.customizedUrl);var n=function(t){return r.param(t.term,t.page,e.pageSize,e.type)};return e.thirdPartyCompany&&(n=function(t){var n=r.param(t.term,t.page,e.pageSize,e.type);return n.thirdPartyCompany=e.thirdPartyCompany,n}),{url:t,dataType:"json",delay:e.delay,data:n,processResults:function(e,t){return t.page=t.page||1,{results:$.map(e.items,r.result),pagination:{more:t.page*e.pageSize<e.totalCount}}},cache:!0}},B=function(a,i){var u=L(a),l=x[u.type.category];u.type.ph1 instanceof Array&&(u.type.ph1=u.type.ph1.join(",")),"undefined"!=typeof l.subCategory.INIT&&l.subCategory.INIT(u);var c=l.subCategory[u.type.subCategory](),s={theme:"bootstrap",placeholder:c.placeholder,allowClear:!u.multiple,multiple:u.multiple};if(u.placeholder&&(s.placeholder=u.placeholder),u.thirdPartyCompany&&(s.thirdPartyCompany=u.thirdPartyCompany),u.wildcardTags&&(s.tags=!0,s.escapeMarkup=function(e){return e},s.createTag=function(e){return f(e.term)},s.templateResult=g),"PH"==u.type.category)return u=$.extend({},u,s),u.placeholder||(u.placeholder="Search..."),"GROUP"==u.type.subCategory&&(u.wtmecSelect2CustomUrl=this.wtmecSelect2CustomUrl,o(u,i));if("ORG"==u.type.category)return u=$.extend({},u,s),u.placeholder||(u.placeholder="Search..."),"GROUP"==u.type.subCategory&&(h(u.type.businessGroup,"businessGroup option data is empty"),h(u.type.subBusinessGroup,"subBusinessGroup option data is empty"),h(u.type.unitId,"unitId option data is empty"),u.wtmecSelect2CustomUrl=this.wtmecSelect2CustomUrl,t(u,i));if("BIZTYPE"==u.type.category)return u=$.extend({},u,s),u.placeholder||(u.placeholder="Search..."),"GROUP"==u.type.subCategory&&(u.wtmecSelect2CustomUrl=this.wtmecSelect2CustomUrl,n(u,i));if(l.paging)return $.extend({},s,{minimumInputLength:1,ajax:W(u)});var d;return d="WAREHOUSE"==u.type.category||"PLANT"==u.type.category?r(u.env,c):e(u.env,c),u.multiple||d.unshift({id:"",text:""}),$.extend({},s,{data:d})};return{getSetting_v3:I,getSetting_v4:B,wtmecSelect2CustomUrl:v,removeFirstLevel:S,createSequenceHierarchyWt:a,generatorSearchContentWrapper:i,replaceSameStartDescWrapper:c,replaceStartWithCustomWord:d,replaceStartWithLevel1:m}}();